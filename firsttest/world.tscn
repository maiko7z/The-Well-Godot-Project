[gd_scene load_steps=23 format=3 uid="uid://0nht4pnm1ybs"]

[ext_resource type="MeshLibrary" uid="uid://cnx0qgayriil2" path="res://tiles/tileset.tres" id="1_eb85w"]
[ext_resource type="Script" uid="uid://cp16ujlx0mdvi" path="res://world.gd" id="1_hiqwa"]
[ext_resource type="Script" uid="uid://bkoiyaadv0p85" path="res://world_environment.gd" id="1_qpkas"]
[ext_resource type="PackedScene" uid="uid://chu4ft88k3ahk" path="res://playerFolder/player.tscn" id="2_xr186"]
[ext_resource type="Script" uid="uid://c8ricokuop81u" path="res://addons/SimpleDungeons/DungeonGenerator3D.gd" id="3_frnp6"]
[ext_resource type="PackedScene" uid="uid://m8l0pq5i0k5p" path="res://roomTypes/SmallRoom_U.tscn" id="4_7433l"]
[ext_resource type="PackedScene" uid="uid://bhi1dilpireod" path="res://roomTypes/Corridor.tscn" id="5_1h652"]
[ext_resource type="PackedScene" uid="uid://b0cbnhr7phiph" path="res://roomTypes/SmallerRoom_Pillar.tscn" id="5_gywx4"]
[ext_resource type="Script" uid="uid://dxngah8a6spom" path="res://addons/SimpleDungeons/DungeonRoom3D.gd" id="6_gywx4"]
[ext_resource type="PackedScene" uid="uid://dnewhfkngjbjn" path="res://roomTypes/LargeRoom_Cramped.tscn" id="6_ns5r6"]
[ext_resource type="PackedScene" uid="uid://inqawaxp48j5" path="res://roomTypes/LargeRoom.tscn" id="7_akdkd"]
[ext_resource type="PackedScene" uid="uid://cjb6h61gpyos4" path="res://roomTypes/ExitRoom.tscn" id="9_xdrm5"]
[ext_resource type="PackedScene" uid="uid://dc8trpqo68hca" path="res://roomTypes/MonsterRoom.tscn" id="10_70uel"]
[ext_resource type="PackedScene" uid="uid://bhu4estup45vo" path="res://roomTypes/SmallDeadEnd.tscn" id="10_gc6hl"]
[ext_resource type="AudioStream" uid="uid://cpdmshr5kyvqc" path="res://audio/AmbienceLooped.ogg" id="11_qpkas"]
[ext_resource type="PackedScene" uid="uid://buhu53cqvbg8n" path="res://tiles_traps/sus_wall.tscn" id="16_2u3nc"]
[ext_resource type="PackedScene" uid="uid://dtsulxlclgia3" path="res://tiles_traps/sus_floor.tscn" id="17_udxuc"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_l4ph3"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_eb85w"]
sky_material = SubResource("ProceduralSkyMaterial_l4ph3")

[sub_resource type="Environment" id="Environment_xr186"]
background_mode = 2
sky = SubResource("Sky_eb85w")
ambient_light_color = Color(0.765623, 0.766371, 1, 1)
ambient_light_sky_contribution = 0.0
ambient_light_energy = 0.0
reflected_light_source = 1
tonemap_mode = 2
glow_enabled = true
fog_enabled = true
fog_light_color = Color(0, 0, 0, 1)
fog_light_energy = 0.0
fog_density = 0.0

[sub_resource type="NavigationMesh" id="NavigationMesh_2o6r5"]
geometry_source_geometry_mode = 1

[sub_resource type="NavigationMesh" id="NavigationMesh_70uel"]
vertices = PackedVector3Array(2, 0.5, -10.99, 3, 0.5, -12.74, 2.5, 0.5, -12.99, -0.75, 0.5, -13.24, -1.5, 0.5, -12.74, -0.25, 0.5, -10.99, 2.5, 0.5, -24.99, -0.75, 0.5, -24.99, 3, 0.5, -6.49, 2.25, 0.5, -8.74, 1.75, 0.5, -8.24, 2.5, 0.5, -6.24, -1, 0.5, -6.49, -0.25, 0.5, -8.24, -5.25, 0.5, -12.74, -5.25, 0.5, -6.49, 2.5, 0.5, -5.24, -0.75, 0.5, -5.24, 7, 0.5, -6.49, 7, 0.5, -12.74)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(0, 5, 2), PackedInt32Array(2, 5, 3), PackedInt32Array(2, 3, 7), PackedInt32Array(2, 7, 6), PackedInt32Array(11, 10, 8), PackedInt32Array(8, 10, 9), PackedInt32Array(13, 12, 5), PackedInt32Array(5, 12, 4), PackedInt32Array(4, 12, 14), PackedInt32Array(14, 12, 15), PackedInt32Array(12, 13, 17), PackedInt32Array(17, 13, 10), PackedInt32Array(17, 10, 11), PackedInt32Array(17, 11, 16), PackedInt32Array(0, 1, 9), PackedInt32Array(9, 1, 8), PackedInt32Array(8, 1, 19), PackedInt32Array(8, 19, 18)]

[node name="World" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.176785, -0.000110149, -0.0965099)
script = ExtResource("1_hiqwa")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true
sky_mode = 2

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_xr186")
script = ExtResource("1_qpkas")

[node name="DungeonGenerator3D" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 1.25, -67.5)
script = ExtResource("3_frnp6")
room_scenes = Array[PackedScene]([ExtResource("4_7433l"), ExtResource("5_gywx4"), ExtResource("6_ns5r6"), ExtResource("7_akdkd"), ExtResource("9_xdrm5"), ExtResource("10_gc6hl"), ExtResource("10_70uel")])
corridor_room_scene = ExtResource("5_1h652")
dungeon_size = Vector3i(10, 1, 10)
voxel_scale = Vector3(10.505, 5, 10.505)
generate_on_ready = false
max_retries = 2
metadata/_custom_type_script = "uid://c8ricokuop81u"

[node name="DungeonOpening" type="Node3D" parent="DungeonGenerator3D"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -5.2525, 0, 47.2725)
script = ExtResource("6_gywx4")
voxel_scale = Vector3(10.505, 5, 10.505)
metadata/_custom_type_script = "uid://dxngah8a6spom"

[node name="DOOR" type="Node3D" parent="DungeonGenerator3D/DungeonOpening"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.1)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="DungeonGenerator3D"]
navigation_mesh = SubResource("NavigationMesh_2o6r5")

[node name="Ambience" type="AudioStreamPlayer" parent="."]
stream = ExtResource("11_qpkas")
volume_db = -14.746
autoplay = true
bus = &"ReverbAmbience"
parameters/looping = true

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_70uel")

[node name="StarterZone" type="Node3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -10.49)

[node name="GridMap" type="GridMap" parent="NavigationRegion3D/StarterZone"]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 0, 0, 0)
mesh_library = ExtResource("1_eb85w")
cell_size = Vector3(1, 1, 1)
cell_center_y = false
data = {
"cells": PackedInt32Array(65535, 0, 1441792, 65535, 1, 3, 0, 0, 2, 0, 1, 0, 1, 0, 1048576, 1, 1, 1048579, 65535, 65535, 1441795, 0, 65535, 655360, 0, 65534, 655362, 2, 0, 655362, 2, 1, 655362, 65534, 1, 1441794, 65534, 0, 1441794, 65533, 65535, 1441794, 65533, 0, 1441794, 65533, 1, 1441794, 65532, 2, 655361, 65533, 2, 655360, 65534, 2, 655360, 65535, 3, 655361, 1, 3, 1441793, 2, 2, 655360, 1, 2, 1441795, 65535, 2, 655363, 0, 2, 655362, 0, 3, 655360, 65532, 65535, 1048576, 65532, 0, 1048576, 65532, 1, 1048576, 3, 2, 655360, 4, 2, 1441793, 4, 1, 1441792, 4, 0, 1441792, 4, 65535, 1441792, 4, 65534, 1, 3, 1, 1048578, 3, 0, 1048578, 1, 65529, 1441792, 65535, 65529, 1048576, 1, 65534, 3, 3, 65534, 0, 2, 65535, 2, 1, 65535, 655363, 1, 65533, 1441792, 3, 65535, 2, 65534, 65535, 655362, 65534, 65534, 0, 65533, 65534, 0, 0, 65531, 1048578, 0, 65533, 1048578, 65535, 65531, 1048576, 0, 65532, 1048578, 65535, 65533, 1048576, 65535, 65534, 1048579, 65535, 65530, 1048576, 1, 65530, 1441792, 1, 65531, 1441792, 1, 65532, 1441792, 65535, 65532, 1048576, 0, 65530, 1441794, 0, 65529, 1441794, 0, 65528, 1441794, 0, 65527, 1441794, 0, 65526, 1441794, 1, 65528, 1441792, 1, 65527, 1441792, 1, 65526, 1441792, 65535, 65528, 1048576, 65535, 65527, 1048576, 65535, 65526, 1048576, 2, 65534, 0, 65532, 65534, 1048577)
}

[node name="Player" parent="." instance=ExtResource("2_xr186")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.712204, 0.507724, -7.06369)

[node name="SusWall" parent="." instance=ExtResource("16_2u3nc")]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, -1.299, 0.001, -11.669)

[node name="SusFloor" parent="." instance=ExtResource("17_udxuc")]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, -2.539, 0.001, -9.297)
