[gd_scene load_steps=15 format=3 uid="uid://b7bbhi8s11pix"]

[ext_resource type="Script" uid="uid://dnd2k2a1tru5v" path="res://enemy2/enemy2.gd" id="1_ah0rm"]
[ext_resource type="AudioStream" uid="uid://bxjv8nfvyqmud" path="res://audio/corpseSounds/CorpseStep.mp3" id="2_ah0rm"]
[ext_resource type="Script" uid="uid://dh8854weabqly" path="res://state_machine/state_machine.gd" id="3_qpq23"]
[ext_resource type="Script" uid="uid://o24n62atlu4b" path="res://enemy2/states/state2_roaming.gd" id="4_sm3he"]
[ext_resource type="Script" uid="uid://bi03s5pk5ss25" path="res://enemy2/states/state2_chasing.gd" id="5_pgsde"]
[ext_resource type="Script" uid="uid://bwat1h7wu2tvx" path="res://enemy2/states/state2_searching.gd" id="6_5oha7"]
[ext_resource type="Texture2D" uid="uid://cor72kcmmtm74" path="res://images/Corpse Full2.png" id="10_gwtc4"]
[ext_resource type="AudioStream" uid="uid://d1jf78c724oam" path="res://audio/corpseSounds/CorpseBreathing.ogg" id="11_sm3he"]
[ext_resource type="AudioStream" uid="uid://bvup2l1sx7t35" path="res://audio/corpseSounds/CorpseIdle1.ogg" id="12_pgsde"]
[ext_resource type="AudioStream" uid="uid://bf108cuhakj1i" path="res://audio/corpseSounds/CorpseIdle2.ogg" id="13_5oha7"]
[ext_resource type="AudioStream" uid="uid://cxaf5bn5ihc74" path="res://audio/corpseSounds/CorpseIdle3.ogg" id="14_gwtc4"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_1wwld"]
radius = 0.194045
height = 1.95216

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_l0tcs"]
random_pitch = 1.2
random_volume_offset_db = 3.0
streams_count = 1
stream_0/stream = ExtResource("2_ah0rm")

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_kgpkr"]
random_pitch = 1.15
streams_count = 3
stream_0/stream = ExtResource("12_pgsde")
stream_1/stream = ExtResource("13_5oha7")
stream_2/stream = ExtResource("14_gwtc4")

[node name="Enemy2" type="CharacterBody3D" groups=["corpseenemy"]]
script = ExtResource("1_ah0rm")

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(-1, -3.61155e-15, -8.74227e-08, 0, -1, 4.13113e-08, -8.74227e-08, 4.13113e-08, 1, -0.0434905, 2.08048, -0.0223638)
visible = false
light_energy = 0.7
shadow_enabled = true
distance_fade_enabled = true
spot_range = 6.5

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(-1, 3.23683e-36, 8.74227e-08, 0, 1, -3.7025e-29, -8.74227e-08, -3.7025e-29, -1, 0.00875826, 1.84015, -0.617802)
visible = false
light_energy = 0.35
shadow_enabled = true
omni_range = 1.798

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.47204, 0)
shape = SubResource("CapsuleShape3D_1wwld")

[node name="StepSoundPlayer" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_l0tcs")
volume_db = 4.238
pitch_scale = 1.46
max_distance = 40.35
bus = &"ReverbAmbience"

[node name="Eye" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.27178, -0.0451027)

[node name="EyeRayCast" type="RayCast3D" parent="Eye"]
unique_name_in_owner = true
enabled = false
target_position = Vector3(0, 0, -1)

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
unique_name_in_owner = true
path_desired_distance = 0.6
target_desired_distance = 0.6
path_max_distance = 5.01

[node name="StateMachine" type="Node" parent="."]
script = ExtResource("3_qpq23")

[node name="Roaming" type="Node" parent="StateMachine"]
script = ExtResource("4_sm3he")

[node name="Chasing" type="Node" parent="StateMachine"]
script = ExtResource("5_pgsde")

[node name="Searching" type="Node" parent="StateMachine"]
script = ExtResource("6_5oha7")

[node name="FullModel" type="Node3D" parent="."]

[node name="Sprite3D" type="Sprite3D" parent="FullModel"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.46166, 0)
visibility_range_end = 8.0
visibility_range_end_margin = 4.25
visibility_range_fade_mode = 1
billboard = 1
shaded = true
texture = ExtResource("10_gwtc4")

[node name="Sounds" type="Node3D" parent="."]

[node name="AmbienceSound" type="AudioStreamPlayer3D" parent="Sounds"]
stream = ExtResource("11_sm3he")
volume_db = -18.29
unit_size = 13.82
max_db = -9.632
pitch_scale = 1.18
autoplay = true
max_distance = 55.0
bus = &"ReverbAmbience"
parameters/looping = true

[node name="IdleSound" type="AudioStreamPlayer3D" parent="Sounds"]
stream = SubResource("AudioStreamRandomizer_kgpkr")
volume_db = -4.729
unit_size = 15.0
max_db = -6.015
pitch_scale = 0.35
max_distance = 120.0
bus = &"ReverbAmbience"

[node name="VisibleOnScreenEnabler3D" type="VisibleOnScreenEnabler3D" parent="."]
transform = Transform3D(0.809594, 0, 0, 0, 0.834189, 0, 0, 0, 4.33868, 0, 1.77956, 0)
aabb = AABB(-0.756224, -1, -0.149119, 1.55835, 2, 0.298238)
enable_node_path = NodePath("../VisibleCheck")

[node name="VisibleCheck" type="Node" parent="."]
